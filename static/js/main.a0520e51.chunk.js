(this.webpackJsonpblocktimer=this.webpackJsonpblocktimer||[]).push([[0],{338:function(e){e.exports=JSON.parse('{"name":"blocktimer","version":"1.0.4","private":true,"homepage":"https://triplespeeder.github.io/blocktimer/","dependencies":{"@date-io/moment":"^1.3.11","react":"^16.10.2","react-datepicker":"^2.9.6","react-dom":"^16.10.2","react-scripts":"3.2.0","semantic-ui-react":"^0.88.1","web3":"^1.2.4"},"scripts":{"start":"react-scripts start","build:gh":"react-scripts build","build:ipfs":"PUBLIC_URL=\'.\' react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy:gh":"npm run build:gh && gh-pages -d build","deploy:ipfs":"npm run build:ipfs && ./scripts/deploy_ipfs.sh dappnode http://fullnode.dappnode:8545"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^2.1.1"}}')},362:function(e,t,a){e.exports=a(751)},547:function(e,t){},570:function(e,t){},572:function(e,t){},612:function(e,t){},614:function(e,t){},643:function(e,t){},751:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(51),l=a.n(c),i=a(772);var o=function(e){return r.a.createElement(i.a,{block:!0,as:"h1",textAlign:"center"},r.a.createElement(i.a.Content,null,"Blocktimer"),r.a.createElement(i.a.Subheader,null,"Find Ethereum blocks by date/time or unix timestamp"))},s=a(338),m=a(773),u=a(774),p=a(760),d=a(766),h=a(753),E=a(52);var b=function(){return r.a.createElement(m.a,{basic:!0},r.a.createElement(u.a,{columns:12,centered:!0},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:12,textAlign:"center"},r.a.createElement(p.a,{fitted:!0}),r.a.createElement(d.a,{horizontal:!0,floated:"right"},r.a.createElement(d.a.Item,null,r.a.createElement("span",{style:{fontSize:"0.5rem"}},"v ",s.version))),r.a.createElement(d.a,{horizontal:!0},r.a.createElement(d.a.Item,null,r.a.createElement(h.a,{as:"a",href:"https://github.com/TripleSpeeder/blocktimer",size:"tiny",circular:!0,icon:"github"})),r.a.createElement(d.a.Item,null,r.a.createElement(h.a,{as:"a",href:"mailto:michael@m-bauer.org",size:"tiny",circular:!0,icon:"mail"})),r.a.createElement(d.a.Item,null,r.a.createElement("span",{style:{fontSize:"0.7rem"}},r.a.createElement(E.a,{name:"copyright"})," Michael Bauer")))))))},f=a(762),g=a(32),w=a(763),v=a(770),k=a(115),y=a(114),O=a(347),j=a.n(O),x=(a(462),function(e){var t=e.selectedTimestamp,a=e.handleDateChange,c=Object(n.useState)(t),l=Object(g.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(!0),m=Object(g.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(),h=Object(g.a)(d,2),E=h[0],b=h[1];Object(n.useEffect)((function(){o(t),p(!0)}),[t]);var f=Object(y.a)(1438269988);return r.a.createElement(w.a,{error:!u},r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Date/Time:"),r.a.createElement(j.a,{selected:Object(y.a)(i),showTimeInput:!0,showYearDropdown:!0,dateFormat:"yyyy-MM-dd HH:mm:ss OOOO",timeFormat:"HH:mm:ss",minDate:f,onChange:function(e){var t=Object(k.a)(e);o(t),t<1438269988?(p(!1),b("Date too early. Ethereum block #1 was mined at ".concat(f))):t>Object(k.a)(new Date)?(p(!1),b("Date in future.")):(p(!0),a(t))}}),r.a.createElement(v.a,{error:!0,content:E})))}),S=a(761),C=function(e){var t=e.selectedTimestamp,a=e.handleTimestampChange,c=Object(n.useState)(t),l=Object(g.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(!0),m=Object(g.a)(s,2),u=m[0],p=m[1];Object(n.useEffect)((function(){o(t),p(!0)}),[t]);return r.a.createElement(w.a,{error:!u},r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Unix timestamp: "),r.a.createElement(S.a,{type:"number",placeholder:"Unix timestamp",min:123,value:i,onChange:function(e){var t=parseInt(e.target.value);o(t),t<1438269988?p(!1):(p(!0),a(t))}}),r.a.createElement(v.a,{error:!0,content:"Timstamp too small. Ethereum block #1 was mined at 1438269988"})))},D=a(34),T=a.n(D),I=a(73);function H(e){return Math.round(e/15)}function z(e,t,a,n){return F.apply(this,arguments)}function F(){return(F=Object(I.a)(T.a.mark((function e(t,a,n,r){var c,l,i,o,s,m,u,p=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>4&&void 0!==p[4]?p[4]:0,l=p.length>5&&void 0!==p[5]?p[5]:{},(i=!1)&&console.log("Depth ".concat(c,": Getting startblock ").concat(a)),e.prev=4,e.next=7,t.eth.getBlock(a);case 7:if(null!==(o=e.sent)){e.next=13;break}return i&&console.log("Got null for block ".concat(a,". Trying previous block....")),e.next=12,t.eth.getBlock(a-1);case 12:o=e.sent;case 13:i&&console.log("Got startBlock ".concat(a," with timestamp ").concat(o.timestamp)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log("Error getting block: "+e.t0.message);case 19:if(s=o.timestamp-n,i&&console.log("deltaSeconds: ".concat(s)),!((m=Math.abs(s))<=r)){e.next=26;break}return e.abrupt("return",o);case 26:if(!(c>0&&m>l.absDelta)){e.next=31;break}return i&&console.log("new delta ".concat(m," > previous delta").concat(l.absDelta,"! Returning prevResult block...")),e.abrupt("return",l.block);case 31:if(u=H(s),i&&console.log("deltaBlocks: ".concat(u)),0!==u){e.next=35;break}return e.abrupt("return",o);case 35:return e.abrupt("return",z(t,a-u,n,r,c+1,{absDelta:m,block:o}));case 36:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}var N=a(768),A=a(771),B=a(767),M=a(352),P=a(208);var R=function(e){var t=e.height,a=e.hash,n=e.timestamp,c=e.loading,l=e.error,i=e.diff;return c?r.a.createElement(N.a,{fluid:!0},r.a.createElement(N.a.Content,null,r.a.createElement(N.a.Header,null,r.a.createElement(A.a,{fluid:!0},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Line,{length:"full"})))),r.a.createElement(N.a.Meta,null,r.a.createElement(A.a,{fluid:!0},r.a.createElement(A.a.Paragraph,null,r.a.createElement(A.a.Line,{length:"full"})))),r.a.createElement(N.a.Description,null,r.a.createElement(A.a,{fluid:!0},r.a.createElement(A.a.Paragraph,null,r.a.createElement(A.a.Line,{length:"full"}))))),r.a.createElement(N.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(h.a,{basic:!0,color:"green",disabled:!0},"view on Etherscan.io"),r.a.createElement(h.a,{basic:!0,color:"green",disabled:!0},"view on Etherchain.org")))):l?r.a.createElement(N.a,{fluid:!0,color:"red"},r.a.createElement(N.a.Content,null,r.a.createElement(N.a.Header,null,"Error!"),r.a.createElement(N.a.Description,null,l.message)),r.a.createElement(N.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(h.a,{basic:!0,color:"green",disabled:!0},"view on Etherscan.io"),r.a.createElement(h.a,{basic:!0,color:"green",disabled:!0},"view on Etherchain.org")))):r.a.createElement(N.a,{fluid:!0,color:"yellow"},r.a.createElement(N.a.Content,null,r.a.createElement(N.a.Header,null,"Block #",t),r.a.createElement(N.a.Meta,{style:{wordWrap:"break-word"}},a),r.a.createElement(N.a.Description,null,"Mined on ",Object(P.default)(Object(y.a)(n),"yyyy-MM-dd HH:mm OOOO")," (Delta: ",i," seconds)")),r.a.createElement(N.a.Content,{extra:!0},r.a.createElement(B.a,{trigger:r.a.createElement(h.a,{basic:!0,compact:!0,size:"mini",href:"https://etherscan.io/block/"+t,target:"_blank"},r.a.createElement(M.a,{size:"mini",src:"https://etherscan.io/images/favicon2.ico"})),content:"Show on Etherscan.io"}),r.a.createElement(B.a,{trigger:r.a.createElement(h.a,{compact:!0,basic:!0,size:"mini",href:"https://www.etherchain.org/block/"+a,target:"_blank"},r.a.createElement(M.a,{size:"mini",src:"https://www.etherchain.org/images/favicon.png"})),content:"Show on Etherchain.org"}),r.a.createElement(B.a,{trigger:r.a.createElement(h.a,{basic:!0,compact:!0,size:"mini",href:"https://blockchair.com/ethereum/block/"+t,target:"_blank"},r.a.createElement(M.a,{size:"mini",src:"https://blockchair.com/favicon.ico"})),content:"Show on blockchair.com"})))},_=a(350),L=a.n(_),U=new Promise((function(e,t){window.addEventListener("load",Object(I.a)(T.a.mark((function a(){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:window.ethereum?(console.log("Injected web3 detected."),n=new L.a(window.ethereum),e(n)):t("No web3 detected.");case 1:case"end":return a.stop()}}),a)}))))})),W=function(e){var t=e.timestamp,a=Object(n.useState)(),c=Object(g.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(!0),s=Object(g.a)(o,2),m=s[0],u=s[1],p=Object(n.useState)(!1),d=Object(g.a)(p,2),h=d[0],E=d[1],b=Object(n.useState)(),f=Object(g.a)(b,2),w=f[0],v=f[1];if(Object(n.useEffect)((function(){(function(){var e=Object(I.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U;case 3:t=e.sent,i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:return e.prev=10,u(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(I.a)(T.a.mark((function e(){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!1),u(!0),e.next=5,l.eth.getBlockNumber();case 5:return a=e.sent,e.next=8,z(l,a,t,30);case 8:n=e.sent,v(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error while finding block: "+e.t0.message),E(e.t0);case 16:return e.prev=16,u(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(){return e.apply(this,arguments)}}();l&&e()}),[l,t]),m)return r.a.createElement(R,{loading:!0});if(h)return r.a.createElement(R,{error:h});if(!w)return r.a.createElement("div",null,"No block loaded");var k=t-w.timestamp;return r.a.createElement(R,{error:h,hash:w.hash,height:w.number,timestamp:w.timestamp,diff:k})},G=function(e){var t=e.showTimestampInput,a=Object(n.useState)(Object(k.a)(new Date)),c=Object(g.a)(a,2),l=c[0],i=c[1],o=function(e){i(e)};return t?r.a.createElement(m.a,{basic:!0},r.a.createElement(u.a,{stackable:!0,centered:!0,columns:12},r.a.createElement(u.a.Row,{verticalAlign:"middle"},r.a.createElement(u.a.Column,{width:6,textAlign:"center"},r.a.createElement(x,{handleDateChange:o,selectedTimestamp:l})),r.a.createElement(u.a.Column,{width:6,textAlign:"center"},r.a.createElement(C,{handleTimestampChange:o,selectedTimestamp:l}))),r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{textAlign:"center",width:12},r.a.createElement(W,{timestamp:l}))))):r.a.createElement(m.a,{basic:!0},r.a.createElement(u.a,{centered:!0,columns:12},r.a.createElement(u.a.Row,{verticalAlign:"middle"},r.a.createElement(u.a.Column,{width:12,textAlign:"center"},r.a.createElement(x,{handleDateChange:o,selectedTimestamp:l}))),r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{textAlign:"center",width:12},r.a.createElement(W,{timestamp:l})))))};G.defaultProps={showTimestampInput:!0};var J=G,X=a(769),Q=a(765),V=function(){var e=Object(n.useState)(-1),t=Object(g.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(g.a)(l,2),s=o[0],p=o[1],d=function(e,t){var n=t.index;c(a===n?-1:n)};return r.a.createElement(m.a,{basic:!0},r.a.createElement(u.a,{columns:12,stackable:!0,centered:!0},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:12,textAlign:"left"},r.a.createElement(i.a,{size:"small",onClick:function(){p(!s)},style:{cursor:"pointer"}},r.a.createElement(E.a,{name:s?"caret down":"caret right"}),r.a.createElement(i.a.Content,null,"IPFS info")),r.a.createElement("p",{style:s?{}:{display:"none"}},"This site is hosted decentralized via ",r.a.createElement("a",{href:"https://ipfs.io",target:"_blank",rel:"noopener noreferrer"},"IPFS"),". It can be accessed in different ways:"))),r.a.createElement(u.a.Row,{style:s?{}:{display:"none"}},r.a.createElement(u.a.Column,{width:12},r.a.createElement(X.a,{styled:!0,fluid:!0},[{type:"IPFS + ENS",uri:"http://blocktimer.dappstar.eth/",description:"This is the recommended method if your system supports .eth name resolution. The ENS name \n is set up to point to the ipfs CID. The content hash\ncan be updated in the ENS system, so using this domain will always point to the latest release."},{type:"Direct IPFS",uri:"ipfs://QmXHWfbbU3A3HrSuEM9HFS842Vi6r3FmkXgwv4TzgnjPR1/",description:"This works if your system supports native ipfs links. However note that the CID is static and therefor is most likely not pointing to the latest release. Therefor this method is not recommended."},{type:"IPFS + ENS + EthDNS",uri:"http://blocktimer.dappstar.eth.link/",description:'If your system/browser does not have direct support for .eth domains you can use the ethDNS\nsystem by simply adding ".link" to the ENS domain. The nameserver responsible for .link\ndomains will automatically look up the according content hash entry and return a gateway.ipfs.io\nlink to the correct address.'},{type:"Https",uri:"https://triplespeeder.github.io/blocktimer/",description:"Fallback traditional hosting on github pages."}].map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(X.a.Title,{active:a===t,index:t,onClick:d},r.a.createElement(E.a,{name:"dropdown"}),e.type),r.a.createElement(X.a.Content,{active:a===t},r.a.createElement(Q.a.Group,null,r.a.createElement(Q.a,null,r.a.createElement(Q.a.Content,null,r.a.createElement(Q.a.Header,{as:"a",href:e.uri,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{style:{wordWrap:"break-word"}},e.uri)),r.a.createElement(Q.a.Description,null,e.description))))))})))))))};var Y=function(){return r.a.createElement(f.a,{style:{marginTop:"1em"}},r.a.createElement(o,null),r.a.createElement(J,null),r.a.createElement(V,null),r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[362,1,2]]]);
//# sourceMappingURL=main.a0520e51.chunk.js.map